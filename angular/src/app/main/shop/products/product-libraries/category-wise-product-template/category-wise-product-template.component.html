<div class="row align-items-center">


    <div class="border p-4">
        <form class="kt-form" autocomplete="off">
            <div class="col-xl-12">
                <div class="my-3">
                    <div class="input-group mb-3">
                        <input [(ngModel)]="filterText" name="filterText" autoFocus type="text" class="form-control"
                            [placeholder]="l('SearchWithThreeDot')" />
                        <button class="btn btn-primary" type="submit" (click)="getProducts()">
                            <i class="flaticon-search-1"></i>
                        </button>
                    </div>
                </div>
            </div>
        </form>
        <div class="col-md-12 mb-4 pr-4 d-flex justify-content-end">
            <button *ngIf="storeId" class="btn btn-primary btn-sm" (click)="onStoreAssign(storeId)">Add to Store</button>

            <div *ngIf="!storeId" class="btn-group dropdown" dropdown container="body">
                <button class="dropdown-toggle btn btn-primary  btn-sm" dropdownToggle>
                    <i class="fa fa-cog"></i> Bulk Action
                </button>
                <ul class="dropdown-menu" *dropdownMenu>
                    <li>
                        <a class="dropdown-item" href="javascript:;" (click)="onAddToStore()"><i
                                class="fa fa-plus"></i>Add
                            to Store</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="primeng-datatable-container col-12 p-4" [busyIf]="primengTableHelper.isLoading">
            <p-table #dataTable (onLazyLoad)="getProducts($event)" [value]="primengTableHelper.records"
                rows="{{primengTableHelper.defaultRecordsCountPerPage}}" [paginator]="false" [lazy]="true"
                [scrollable]="true" ScrollWidth="100%" [responsive]="primengTableHelper.isResponsive"
                [resizableColumns]="primengTableHelper.resizableColumns">
                <ng-template pTemplate="header">
                    <tr>

                        <th style="width:20px; text-align: center;">
                            <label class="kt-checkbox">
                                <input type="checkbox" (change)="onChangesSelectAll()" [(ngModel)]="selectedAll">
                                <span></span>
                            </label>
                        </th>
                        <th style="width: 250px">
                            {{l('Name')}}

                        </th>


                        <th style="width: 130px; text-align: left;">
                            {{l('Actions')}}
                        </th>


                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-record="$implicit">
                    <tr>

                        <td style="width:20px; text-align: center;">
                            <label class="kt-checkbox">
                                <input type="checkbox" [(ngModel)]="record.selected" (change)="checkIfAllSelected()">
                                <span class="ml-2"></span>
                            </label>

                        </td>


                        <td style="width:250px">
                            <div class="d-flex main_box">
                                <div class="me-3">
                                    <img class="pro__img-p shadow-sm"
                                        src="{{record.picture != null?record.picture:'/assets/common/images/sampleProfilePics/noimg.png'}}"
                                        alt="image">
                                </div>
                                <div title="{{record.productName }}">
                                    <a href="javascript:;" class="product_link"
                                        [routerLink]="['/app/main/shop/products/dashboard', record.productId]">{{record.productName
                                        }}</a>
                                </div>
                            </div>

                        </td>


                        <td style="width: 130px; text-align: left;">

                            <div class="btn-group dropdown" dropdown container="body">
                                <button class="dropdown-toggle btn btn-sm btn-primary" dropdownToggle>
                                    <i class="fa fa-cog"></i>
                                </button>
                                <ul class="dropdown-menu" *dropdownMenu>
                                    <li>
                                        <a href="javascript:;" class="dropdown-item"
                                            (click)="editProduct(record.productId)">
                                            {{ l('Edit') }}
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="javascript:;"
                                            (click)="deleteProduct(record.productId)">
                                            {{ l('Delete') }}
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </td>

                    </tr>
                </ng-template>
            </p-table>
            <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
                {{l('NoData')}}
            </div>
            <div class="primeng-paging-container">
                <p-paginator [rows]="primengTableHelper.defaultRecordsCountPerPage" #paginator
                    (onPageChange)="getProducts($event)" [totalRecords]="primengTableHelper.totalRecordsCount"
                    [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage">
                </p-paginator>

            </div>
        </div>
    </div>

    <createOrEditStoreProductMapModal #createOrEditStoreProductMapModal (modalSave)="getProducts()">
    </createOrEditStoreProductMapModal>
</div>