<div class="app-main flex-column flex-row-fluid" id="kt_app_main">
    <div class="d-flex flex-column flex-column-fluid">
        <!-- topbar -->
        <div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
            <div id="kt_app_toolbar_container" class="app-container w-100 d-flex flex-stack">
                <div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
                    <h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0">
                        Contract Dashboard
                    </h1>
                    <ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
                        <li class="breadcrumb-item text-muted">
                            <a href="javascript:;" [routerLink]="['/app/admin/hostDashboard']"
                                class="text-muted text-hover-primary">Dashboard</a>
                        </li>
                        <li class="breadcrumb-item">
                            <span class="bullet bg-gray-400 w-5px h-2px"></span>
                        </li>
                        <li [routerLink]="['/app/main/contractManagement/contracts']"
                            class="breadcrumb-item cursor-pointer text-muted">
                            Contract List</li>
                    </ul>
                </div>
                <div class="d-flex align-items-center gap-2 gap-lg-3">
                    <a [routerLink]="['/app/main/contractManagement/contracts']" href="javascript:;"
                        class="btn btn-sm fw-bold btn-primary" data-bs-toggle="modal"
                        data-bs-target="#kt_modal_create_app"><i class="fas fa-arrow-alt-circle-left fa-2xl"></i></a>
                </div>
            </div>
        </div>
        <!-- end Topbar -->
        <div id="kt_app_content" class="app-content flex-column-fluid">
            <div id="kt_app_content_container" class="app-container">
                <div class="row">
                    <!-- top bar -->
                    <div class="col-xl-12 mb-0">
                        <div class="card mb-5 mb-xl-8">
                            <div class="card-body pt-10">
                                <div class="d-flex mb-0">
                                    <div class="ms-7 w-100 d-flex justify-content-between">
                                        <div class="d-block">
                                            <a href="javascript:;"
                                                class="fs-3 text-gray-800 text-hover-primary fw-bold mb-2 d-block">
                                                New Contact For Test
                                                <i class="fas fa-check-circle text-success"></i>
                                            </a>
                                            <div class="fs-5 fw-semibold text-muted mb-2">
                                                <i class="fas fa-file-contract me-2"></i>
                                                <span>
                                                    Contract Type: Generic NDA
                                                </span>
                                            </div>
                                            <div class="fs-5 fw-semibold text-muted mb-2">
                                                <i class="fa fa-calendar-alt me-2"></i>
                                                <span>
                                                    Contract Date: Apr 30, 2023
                                                </span>
                                            </div>
                                            <div class="fs-5 fw-semibold text-muted mb-2">
                                                <i class="flaticon2-calendar-9 me-2"></i>
                                                <span>
                                                    Expiration Date: Apr 30, 2023
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- top -->

                    <!-- bottom Bar -->
                    <div class="col-xl-12">
                        <div class="p-5 rounded bg-white">
                            <!--begin:::Tabs-->
                            <ul class="nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-semibold mb-0"
                                style="border-bottom: 2px solid #dbdbdb !important;" role="tablist">
                                <!--begin:::Tab item-->
                                <li class="nav-item" role="presentation">
                                    <a class="nav-link text-active-primary pb-4 active" data-bs-toggle="tab"
                                        href="#editor" aria-selected="true" role="tab">
                                        <i class="fas fa-edit  me-1"></i> Contract Editor
                                    </a>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <a class="nav-link text-active-primary pb-4" data-kt-countup-tabs="true"
                                        data-bs-toggle="tab" href="#tasks" data-kt-initialized="1" aria-selected="false"
                                        role="tab" tabindex="-1">
                                        <i class="fas fa-list me-1"></i> Tasks
                                    </a>
                                </li>
                            </ul>
                            <!--end:::Tabs-->
                            <!--begin:::Tab content-->
                            <div class="tab-content" id="myTabContent">
                                <!--begin:::Tab pane-->
                                <div class="tab-pane fade active show" id="editor" role="tabpanel">
                                    <div class="pt-9 mb-9">
                                        <div class="notice bg-white rounded border-primary border border-dashed p-9">
                                            <div style="border-width: 1px;"
                                                class="d-flex align-items-end border-bottom-dashed border-secondary pb-7">
                                                <span class="svg-icon svg-icon-2tx svg-icon-warning me-4">
                                                    <i class="fas fa-info fa-2x text-primary"></i>
                                                </span>
                                                <h4 class="text-gray-900 fw-bold mb-0">Basic Information</h4>
                                            </div>
                                            <div class="mt-5">
                                                <form #contractBasicInfoForm="ngForm" novalidate
                                                    (ngSubmit)="saveBasicInfo()" autocomplete="off">
                                                    <div class="row">
                                                        <div class="col-xl-12">
                                                            <div class="my-5">
                                                                <div class="p_filter">
                                                                    <label class="form-label required"
                                                                        for="ContractTypeName">
                                                                        Contract Type
                                                                    </label>
                                                                    <p-dropdown [options]="contractTypeOptions"
                                                                        [filter]="true" [virtualScroll]="true"
                                                                        placeholder="Select Contract Type"
                                                                        [itemSize]="30" name="ContractTypeName"
                                                                        optionLabel="displayName" optionValue="id"
                                                                        optionId="contractTypeId"
                                                                        [(ngModel)]="contract.contractTypeId"
                                                                        filterBy="displayName" required
                                                                        [style]="{ width: '100%' }"></p-dropdown>
                                                                </div>
                                                            </div>

                                                            <div class="my-5">
                                                                <label class="form-label"
                                                                    for="Contract_Title">{{l("Title")}} *</label>
                                                                <input type="text" #Contract_Title="ngModel"
                                                                    id="Contract_Title" class="form-control"
                                                                    [(ngModel)]="contract.title" name="Title"
                                                                    minlength="1" maxlength="1024" required />
                                                                <validation-messages
                                                                    [formCtrl]="Contract_Title"></validation-messages>
                                                            </div>

                                                            <div class="row">
                                                                <div class="col-xl-6">
                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_StartDate">{{l("Contract
                                                                            Date")}}</label>
                                                                        <input class="form-control m-input"
                                                                            #Contract_StartDate type="datetime"
                                                                            bsDatepicker datePickerLuxonModifier
                                                                            [(date)]="contract.startDate"
                                                                            id="Contract_StartDate"
                                                                            name="Contract_StartDate">
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_StartDate"></validation-messages>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xl-6">
                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_EndDate">{{l("Expiration
                                                                            Date")}}</label>
                                                                        <input class="form-control m-input"
                                                                            #Contract_EndDate type="datetime"
                                                                            bsDatepicker datePickerLuxonModifier
                                                                            [(date)]="contract.endDate"
                                                                            id="Contract_EndDate"
                                                                            name="Contract_EndDate">
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_EndDate"></validation-messages>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xl-12">
                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_Description">{{l("Description")}}</label>
                                                                        <p-editor id="contract.description"
                                                                            name="contract.description"
                                                                            [(ngModel)]="contract.description"
                                                                            ngDefaultControl
                                                                            [style]="{ height: '400px' }"
                                                                            placeholder="'Type here...'"></p-editor>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xl-12">
                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_Remarks">{{l("Remarks")}}</label>
                                                                        <textarea #Contract_Remarks="ngModel"
                                                                            id="Contract_Remarks" class="form-control"
                                                                            [(ngModel)]="contract.remarks"
                                                                            name="Remarks" cols="30"
                                                                            rows="10"></textarea>
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_Remarks"></validation-messages>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div
                                                            class="col-xl-12 d-flex justify-content-end mt-5 border-top pt-5">
                                                            <button type="submit" class="btn btn-primary blue"
                                                                [disabled]="!contractBasicInfoForm.form.valid"
                                                                [buttonBusy]="saving"
                                                                [busyText]="l('SavingWithThreeDot')"><i
                                                                    class="fa fa-save"></i>
                                                                <span>{{l("Save")}}</span></button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="pt-9 mb-9">
                                        <div class="notice bg-white rounded border-primary border border-dashed p-9">
                                            <div style="border-width: 1px;"
                                                class="d-flex align-items-end border-bottom-dashed border-secondary pb-7">
                                                <span class="svg-icon svg-icon-2tx svg-icon-warning me-4">
                                                    <i class="fas fa-info fa-2x text-primary"></i>
                                                </span>
                                                <h4 class="text-gray-900 fw-bold mb-0">Contract Details</h4>
                                            </div>
                                            <div class="mt-5">
                                                <form #contractDetailsForm="ngForm" novalidate
                                                    (ngSubmit)="saveContractDetailsInfo()" autocomplete="off">
                                                    <div class="row">
                                                        <div class="col-xl-12">
                                                            <div class="split_section_twocol">
                                                                <div class="first_col">
                                                                    <h4 class="text-primary fw-bold mb-4 mt-3">First
                                                                        Party</h4>
                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_FirstPartyFullName">{{l("Full
                                                                            Name")}}</label>
                                                                        <input type="text"
                                                                            #Contract_FirstPartyFullName="ngModel"
                                                                            id="Contract_FirstPartyFullName"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.firstPartyFullName"
                                                                            name="FirstPartyFullName" minlength="1"
                                                                            maxlength="256" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_FirstPartyFullName"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_FirstPartyAddress">{{l("Address")}}</label>
                                                                        <input type="text"
                                                                            #Contract_FirstPartyAddress="ngModel"
                                                                            id="Contract_FirstPartyAddress"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.firstPartyAddress"
                                                                            name="FirstPartyAddress" minlength="1"
                                                                            maxlength="1024" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_FirstPartyAddress"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_FirstPartyPhone">{{l("Phone")}}</label>
                                                                        <input type="text"
                                                                            #Contract_FirstPartyPhone="ngModel"
                                                                            id="Contract_FirstPartyPhone"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.firstPartyPhone"
                                                                            name="FirstPartyPhone" minlength="1"
                                                                            maxlength="50" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_FirstPartyPhone"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_FirstPartyEmailAddress">{{l("Email")}}</label>
                                                                        <input type="text"
                                                                            #Contract_FirstPartyEmailAddress="ngModel"
                                                                            id="Contract_FirstPartyEmailAddress"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.firstPartyEmailAddress"
                                                                            name="FirstPartyEmailAddress" minlength="1"
                                                                            maxlength="128" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_FirstPartyEmailAddress"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_FirstPartyIdTypeAndNumber">{{l("ID
                                                                            Type And Number")}}</label>
                                                                        <input type="text"
                                                                            #Contract_FirstPartyIdTypeAndNumber="ngModel"
                                                                            id="Contract_FirstPartyIdTypeAndNumber"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.firstPartyIdTypeAndNumber"
                                                                            name="FirstPartyIdTypeAndNumber"
                                                                            minlength="1" maxlength="256" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_FirstPartyIdTypeAndNumber"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_FirstPartySignDate">{{l("Sign
                                                                            Date")}}</label>
                                                                        <input class="form-control m-input"
                                                                            #Contract_FirstPartySignDate type="datetime"
                                                                            bsDatepicker datePickerLuxonModifier
                                                                            [(date)]="contract.firstPartySignDate"
                                                                            id="Contract_FirstPartySignDate"
                                                                            name="Contract_FirstPartySignDate">
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_FirstPartySignDate"></validation-messages>
                                                                    </div>

                                                                    <!-- <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_FirstPartySignBinaryId">{{l("Sign")}}</label>
                                                                        <input type="text"
                                                                            #Contract_FirstPartySignBinaryId="ngModel"
                                                                            id="Contract_FirstPartySignBinaryId"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.firstPartySignBinaryId"
                                                                            name="FirstPartySignBinaryId" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_FirstPartySignBinaryId"></validation-messages>
                                                                    </div> -->

                                                                    <div class="my-5">
                                                                        <a href="javascript:;"  (click)="createContractSignature()" class="btn btn-light-primary">
                                                                            <i class="fas fa-signature"></i> Add Sign
                                                                        </a>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_FirstPartyIpAddress">{{l("IP
                                                                            Address")}}</label>
                                                                        <input type="text"
                                                                            #Contract_FirstPartyIpAddress="ngModel"
                                                                            id="Contract_FirstPartyIpAddress"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.firstPartyIpAddress"
                                                                            name="FirstPartyIpAddress" minlength="1"
                                                                            maxlength="128" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_FirstPartyIpAddress"></validation-messages>
                                                                    </div>

                                                                </div>
                                                                <div class="first_col">
                                                                    <h4 class="text-primary fw-bold mb-4 mt-3">Second
                                                                        Party</h4>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_SecondPartyFullName">Full Name</label>
                                                                        <input type="text"
                                                                            #Contract_SecondPartyFullName="ngModel"
                                                                            id="Contract_SecondPartyFullName"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.secondPartyFullName"
                                                                            name="SecondPartyFullName" minlength="1"
                                                                            maxlength="256" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_SecondPartyFullName"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_SecondPartyAddress">{{l("Address")}}</label>
                                                                        <input type="text"
                                                                            #Contract_SecondPartyAddress="ngModel"
                                                                            id="Contract_SecondPartyAddress"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.secondPartyAddress"
                                                                            name="SecondPartyAddress" minlength="1"
                                                                            maxlength="1024" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_SecondPartyAddress"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_SecondPartyPhone">{{l("Phone")}}</label>
                                                                        <input type="text"
                                                                            #Contract_SecondPartyPhone="ngModel"
                                                                            id="Contract_SecondPartyPhone"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.secondPartyPhone"
                                                                            name="SecondPartyPhone" minlength="1"
                                                                            maxlength="50" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_SecondPartyPhone"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_SecondPartyEmailAddress">{{l("Email")}}</label>
                                                                        <input type="text"
                                                                            #Contract_SecondPartyEmailAddress="ngModel"
                                                                            id="Contract_SecondPartyEmailAddress"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.secondPartyEmailAddress"
                                                                            name="SecondPartyEmailAddress" minlength="1"
                                                                            maxlength="128" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_SecondPartyEmailAddress"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_SecondPartyIdTypeAndNumber">{{l("ID Type And Number")}}</label>
                                                                        <input type="text"
                                                                            #Contract_SecondPartyIdTypeAndNumber="ngModel"
                                                                            id="Contract_SecondPartyIdTypeAndNumber"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.secondPartyIdTypeAndNumber"
                                                                            name="SecondPartyIdTypeAndNumber"
                                                                            minlength="1" maxlength="128" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_SecondPartyIdTypeAndNumber"></validation-messages>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_SecondPartySignDate">{{l("Sign Date")}}</label>
                                                                        <input class="form-control m-input"
                                                                            #Contract_SecondPartySignDate
                                                                            type="datetime" bsDatepicker
                                                                            datePickerLuxonModifier
                                                                            [(date)]="contract.secondPartySignDate"
                                                                            id="Contract_SecondPartySignDate"
                                                                            name="Contract_SecondPartySignDate">
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_SecondPartySignDate"></validation-messages>
                                                                    </div>

                                                                    <!-- <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_SecondPartySignBinaryId">{{l("Sign")}}</label>
                                                                        <input type="text"
                                                                            #Contract_SecondPartySignBinaryId="ngModel"
                                                                            id="Contract_SecondPartySignBinaryId"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.secondPartySignBinaryId"
                                                                            name="SecondPartySignBinaryId" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_SecondPartySignBinaryId"></validation-messages>
                                                                    </div> -->

                                                                    <div class="my-5">
                                                                        <a href="javascript:;" (click)="createContractSignature()" class="btn btn-light-primary">
                                                                            <i class="fas fa-signature"></i> Add Sign
                                                                        </a>
                                                                    </div>

                                                                    <div class="my-5">
                                                                        <label class="form-label"
                                                                            for="Contract_SecondPartyIpAddress">{{l("IP Address")}}</label>
                                                                        <input type="text"
                                                                            #Contract_SecondPartyIpAddress="ngModel"
                                                                            id="Contract_SecondPartyIpAddress"
                                                                            class="form-control"
                                                                            [(ngModel)]="contract.secondPartyIpAddress"
                                                                            name="SecondPartyIpAddress" minlength="1"
                                                                            maxlength="128" />
                                                                        <validation-messages
                                                                            [formCtrl]="Contract_SecondPartyIpAddress"></validation-messages>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div
                                                            class="col-xl-12 d-flex justify-content-end mt-5 border-top pt-5">
                                                            <button type="submit" class="btn btn-primary blue"
                                                                [disabled]="!contractDetailsForm.form.valid"
                                                                [buttonBusy]="saving"
                                                                [busyText]="l('SavingWithThreeDot')"><i
                                                                    class="fa fa-save"></i>
                                                                <span>{{l("Save")}}</span></button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tasks" role="tabpanel">
                                    dfgdfg
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <createOrEditContractSignature #createOrEditContractSignature></createOrEditContractSignature>
</div>